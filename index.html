<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>AI Background Remover - फ्री टूल</title>
    <style>
        body { font-family: 'Arial', sans-serif; text-align: center; background: #f4f4f9; padding: 50px; }
        .card { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); display: inline-block; }
        input { margin: 20px 0; }
        button { background: #6200ea; color: white; border: none; padding: 10px 25px; border-radius: 5px; cursor: pointer; font-size: 16px; }
        #result { margin-top: 20px; max-width: 500px; border-radius: 10px; }
        .loader { display: none; color: #6200ea; font-weight: bold; }
    </style>
</head>
<body>

    <div class="card">
        <h1>✨ AI Background Remover</h1>
        <p>अपनी फोटो अपलोड करें और जादू देखें!</p>
        
        <input type="file" id="fileInput" accept="image/*">
        <br>
        <button onclick="removeBackground()">बैकग्राउंड हटाएँ</button>
        
        <div id="loader" class="loader">प्रोसेस हो रहा है... कृपया रुकें...</div>
        <br>
        <img id="result" src="" alt="आपका रिजल्ट यहाँ दिखेगा" style="display:none;">
        <br>
        <button id="downloadBtn" style="display:none; background:#28a745;" onclick="downloadImg()">डाउनलोड करें</button>
    </div>

    <script>
        async function removeBackground() {
            const fileInput = document.getElementById('fileInput');
            const loader = document.getElementById('loader');
            const resultImg = document.getElementById('result');
            const downloadBtn = document.getElementById('downloadBtn');

            if (fileInput.files.length === 0) {
                alert("कृपया पहले एक फोटो चुनें!");
                return;
            }

            loader.style.display = "block";
            const file = fileInput.files[0];
            const formData = new FormData();
            formData.append('image_file', file);
            formData.append('size', 'auto');

            // अपनी API Key यहाँ डालें (Remove.bg से मिली हुई)
            const apiKey = "p2rfgyQdxMnQMumkJqAVEE9W"; 

            try {
                const response = await fetch('https://api.remove.bg/v1.0/removebg', {
                    method: 'POST',
                    headers: { 'X-Api-Key': apiKey },
                    body: formData
                });

                if (response.ok) {
                    const blob = await response.blob();
                    const url = URL.createObjectURL(blob);
                    resultImg.src = url;
                    resultImg.style.display = "block";
                    downloadBtn.style.display = "inline-block";
                } else {
                    alert("API में कोई दिक्कत है या लिमिट खत्म हो गई है।");
                }
            } catch (error) {
                console.error(error);
                alert("कुछ गलत हुआ!");
            } finally {
                loader.style.display = "none";
            }
        }

        function downloadImg() {
            const link = document.createElement('a');
            link.href = document.getElementById('result').src;
            link.download = 'no-bg-image.png';
            link.click();
        }
    </script>
</body>
</html>
